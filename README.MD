# üì∞ –ù–æ–≤–∏–Ω–∏ RBC.ua: –ë–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–∏–π –ü–∞—Ä—Å–µ—Ä (Python)

## –ü—Ä–æ–µ–∫—Ç

**–ù–æ–≤–∏–Ω–∏ RBC.ua** ‚Äî —Ü–µ –∫–æ–Ω—Å–æ–ª—å–Ω–∏–π –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –¥–ª—è **–≤–µ–±-–ø–∞—Ä—Å–∏–Ω–≥—É (web scraping)**, —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–∏–π –¥–ª—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∑–±–æ—Ä—É –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤ —Ç–∞ –ø–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É —Å—Ç–∞—Ç–µ–π –∑ —Å–∞–π—Ç—É **"–†–ë–ö-–£–∫—Ä–∞—ó–Ω–∞"**.

–ö–ª—é—á–æ–≤–æ—é –æ—Å–æ–±–ª–∏–≤—ñ—Å—Ç—é –ø—Ä–æ–µ–∫—Ç—É —î –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è **–º—É–ª—å—Ç–∏–ø–æ—Ç–æ–∫–æ–≤–æ—Å—Ç—ñ (`concurrent.futures.ThreadPoolExecutor`)** –¥–ª—è –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ–≥–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–Ω—Ç—É –∫–æ–∂–Ω–æ—ó –æ–∫—Ä–µ–º–æ—ó —Å—Ç–∞—Ç—Ç—ñ. –¶–µ–π –ø—ñ–¥—Ö—ñ–¥ –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–∏–π –¥–ª—è **I/O-bound** –∑–∞–≤–¥–∞–Ω—å (–æ—á—ñ–∫—É–≤–∞–Ω–Ω—è –º–µ—Ä–µ–∂–µ–≤–æ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ) —ñ –¥–æ–∑–≤–æ–ª—è—î **–∑–Ω–∞—á–Ω–æ –ø—Ä–∏—Å–∫–æ—Ä–∏—Ç–∏** –ø—Ä–æ—Ü–µ—Å –æ–±—Ä–æ–±–∫–∏ –≤–µ–ª–∏–∫–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Å—Ç–∞—Ç–µ–π.

---

### üìù –ó–º—ñ—Å—Ç

* [–ö–ª—é—á–æ–≤—ñ –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ](#-–∫–ª—é—á–æ–≤—ñ-–º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ)
* [–¢–µ—Ö–Ω—ñ—á–Ω—ñ –î–µ—Ç–∞–ª—ñ: –ú—É–ª—å—Ç–∏–ø–æ—Ç–æ–∫–æ–≤—ñ—Å—Ç—å](#-—Ç–µ—Ö–Ω—ñ—á–Ω—ñ-–¥–µ—Ç–∞–ª—ñ-–º—É–ª—å—Ç–∏–ø–æ—Ç–æ–∫–æ–≤—ñ—Å—Ç—å)
* [–®–≤–∏–¥–∫–∏–π –°—Ç–∞—Ä—Ç](#-—à–≤–∏–¥–∫–∏–π-—Å—Ç–∞—Ä—Ç)
* [–í–∏—Ö—ñ–¥–Ω–∏–π –§–æ—Ä–º–∞—Ç –î–∞–Ω–∏—Ö](#-–≤–∏—Ö—ñ–¥–Ω–∏–π-—Ñ–æ—Ä–º–∞—Ç-–¥–∞–Ω–∏—Ö)

---

## ‚öôÔ∏è –ö–ª—é—á–æ–≤—ñ –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

| –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª | –û–ø–∏—Å | –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ |
| :--- | :--- | :--- |
| **–ü–∞—Ä—Å–∏–Ω–≥ –°–ø–∏—Å–∫—É** | –ó–±—ñ—Ä –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤, –ø–æ—Å–∏–ª–∞–Ω—å —Ç–∞ —á–∞—Å—É –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó –Ω–æ–≤–∏–Ω –∑ –≥–æ–ª–æ–≤–Ω–æ—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏. | `requests`, `BeautifulSoup` |
| **–ë–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–µ –ó–±–∞–≥–∞—á–µ–Ω–Ω—è** | **–ü–∞—Ä–∞–ª–µ–ª—å–Ω–µ** –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø–æ–≤–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç—É —Ç–∞ –∞–≤—Ç–æ—Ä–∞ –¥–ª—è –∑–∞–¥–∞–Ω–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Å—Ç–∞—Ç–µ–π (`MAX_ARTICLES_TO_PARSE`). | **`concurrent.futures.ThreadPoolExecutor`** |
| **–ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è –î–∞—Ç–∏** | –ü–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è —á–∞—Å—É –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó (`–ß–ß:–ú–ú`) —É –ø–æ–≤–Ω–∏–π –æ–±'—î–∫—Ç `datetime`. | `pandas`, `datetime` |
| **–§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è** | –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è —Å—Ç–∞—Ç–µ–π, –æ–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω–∏—Ö –∑–∞ –æ—Å—Ç–∞–Ω–Ω—ñ **7 –¥–Ω—ñ–≤** (`MAX_DAYS_TO_FILTER`). | `pandas`, `timedelta` |
| **–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è** | –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ñ—ñ–Ω–∞–ª—å–Ω–æ–≥–æ, —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–æ–≥–æ –Ω–∞–±–æ—Ä—É –¥–∞–Ω–∏—Ö —É CSV-—Ñ–∞–π–ª. | `pandas` |

---

## üíª –¢–µ—Ö–Ω—ñ—á–Ω—ñ –î–µ—Ç–∞–ª—ñ: –ú—É–ª—å—Ç–∏–ø–æ—Ç–æ–∫–æ–≤—ñ—Å—Ç—å

–î–ª—è –ø—Ä–∏—Å–∫–æ—Ä–µ–Ω–Ω—è —Ñ–∞–∑–∏ –∑–±–∞–≥–∞—á–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö (–≤–∏–∫–ª–∏–∫–∏ `get_page(article_url)`), —è–∫–∞ —î **I/O-bound** –æ–ø–µ—Ä–∞—Ü—ñ—î—é, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è **`concurrent.futures.ThreadPoolExecutor`**. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –æ–±—ñ–π—Ç–∏ –æ–±–º–µ–∂–µ–Ω–Ω—è GIL –¥–ª—è –æ–ø–µ—Ä–∞—Ü—ñ–π –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è (–º–µ—Ä–µ–∂–µ–≤—ñ –∑–∞–ø–∏—Ç–∏), –≤–∏–∫–æ–Ω—É—é—á–∏ –¥–µ–∫—ñ–ª—å–∫–∞ –∑–∞–ø–∏—Ç—ñ–≤ –Ω–∞ –ø–∞—Ä—Å–∏–Ω–≥ –∫–æ–Ω—Ç–µ–Ω—Ç—É **–æ–¥–Ω–æ—á–∞—Å–Ω–æ**.

**–ö–ª—é—á–æ–≤–∏–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç –∫–æ–¥—É (`main`):**

```python
from concurrent.futures import ThreadPoolExecutor, as_completed

# ... (–≤ –º–µ–∂–∞—Ö main)

with ThreadPoolExecutor(max_workers=10) as executor:
    # –°—Ç–≤–æ—Ä—é—î–º–æ –∑–∞–≤–¥–∞–Ω–Ω—è (Future) –¥–ª—è –∫–æ–∂–Ω–æ—ó —Å—Ç–∞—Ç—Ç—ñ
    future_to_article = {
        executor.submit(parse_article_content, article['link']): article 
        for article in articles_to_process
    }
    
    # –û–±—Ä–æ–±–ª—è—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ø–æ –º—ñ—Ä—ñ —ó—Ö –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ
    for future in as_completed(future_to_article):
        # ... –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–ª–æ–≤–Ω–∏–∫–∞ article['author'] —Ç–∞ article['full_text'] ...
```
## ‚ñ∂Ô∏è –®–≤–∏–¥–∫–∏–π –°—Ç–∞—Ä—Ç
**–í–∏–º–æ–≥–∏**
–ü–æ—Ç—Ä—ñ–±–µ–Ω –ª–∏—à–µ **Python 3.x.**

```bash

python3 --version
# –ú–∞—î –±—É—Ç–∏ 3.x –∞–±–æ –≤–∏—â–µ
```
**–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π**

–ü—Ä–æ–µ–∫—Ç –ø–æ—Ç—Ä–µ–±—É—î –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –±—ñ–±–ª—ñ–æ—Ç–µ–∫:
```bash
pip install requests beautifulsoup4 pandas
```
**–ó–∞–ø—É—Å–∫ –ü—Ä–æ–µ–∫—Ç—É**

1. –ö–ª–æ–Ω—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –∑ github.

2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç:

```bash
python3 scraper.py
```
–ü—Ä–æ–≥—Ä–∞–º–∞ –≤–∏–≤–µ–¥–µ —É –∫–æ–Ω—Å–æ–ª—å –ª–æ–≥ —Ä–æ–±–æ—Ç–∏ —Ç–∞ –∑–±–µ—Ä–µ–∂–µ —Ñ—ñ–Ω–∞–ª—å–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É —Ñ–∞–π–ª news.csv.

## üíæ –í–∏—Ö—ñ–¥–Ω–∏–π –§–æ—Ä–º–∞—Ç –î–∞–Ω–∏—Ö
–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ä–æ–±–æ—Ç–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —É —Ñ–∞–π–ª—ñ (`news.csv`) —É –Ω–∞—Å—Ç—É–ø–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—ñ:

| –ù–∞–∑–≤–∞ –ö–æ–ª–æ–Ω–∫–∏                               | –û–ø–∏—Å                                       | 
|:--------------------------------------------|:-------------------------------------------|
| `title`                                     | –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–∞—Ç—Ç—ñ.                          |
| `link`                                      | 	–ê–±—Å–æ–ª—é—Ç–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Å—Ç–∞—Ç—Ç—é.            |
| `datetime`                                  | 	–¢–æ—á–Ω–∏–π —á–∞—Å –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó (pandas.Timestamp). |
| `summary` | 	–ê–Ω–æ—Ç–∞—Ü—ñ—è (–∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å) —Å—Ç–∞—Ç—Ç—ñ.          |
| `author` |	–Ü–º'—è –∞–≤—Ç–æ—Ä–∞. |
|`full_text` |	–ü–æ–≤–Ω–∏–π —Ç–µ–∫—Å—Ç —Å—Ç–∞—Ç—Ç—ñ (–∑ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–º —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è–º).|
